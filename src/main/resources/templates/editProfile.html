<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="icon" type="image/png" href="/img/logo.png">
    <meta charset="UTF-8">
    <title>Edit Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/profile.css" />
</head>
<body>

<div class="profile-card">
    <form method="post" action="/edit-profile" th:object="${user}">
        <div class="text-center mb-4">
            <img class="logo-icon mb-2" src="/img/logo.png" alt="Logo" style="width: 80px;">
            <br>
            <img class="logo-title" src="/img/logo-title.png" alt="Logo Title" style="width: 250px;">
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="firstName" class="form-label"><strong>First Name</strong></label>
                <input type="text" class="form-control" id="firstName" name="firstName" th:field="*{firstName}" required>
                <div class="text-danger small" th:if="${firstNameError}" th:text="${firstNameError}"></div>
            </div>
            <div class="col-md-6 mb-3">
                <label for="lastName" class="form-label"><strong>Last Name</strong></label>
                <input type="text" class="form-control" id="lastName" name="lastName" th:field="*{lastName}" required>
                <div class="text-danger small" th:if="${lastNameError}" th:text="${lastNameError}"></div>
            </div>
        </div>

        <div class="mb-3">
            <label for="gender" class="form-label"><strong>Gender</strong></label>
            <select class="form-select" id="gender" name="gender" required>
                <option value="" disabled>Select Gender</option>
                <option value="male" th:selected="${user.gender == 'male'}">Male</option>
                <option value="female" th:selected="${user.gender == 'female'}">Female</option>
                <option value="other" th:selected="${user.gender == 'other'}">Other</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="email" class="form-label"><strong>Email</strong></label>
            <input type="email" class="form-control" id="email" name="email" th:field="*{email}" readonly>
        </div>

        <div class="mb-3">
            <label for="phone" class="form-label"><strong>Phone</strong></label>
            <input type="text" class="form-control" id="phone" name="phone" th:field="*{phone}" required>
            <div class="text-danger small" th:if="${phoneError}" th:text="${phoneError}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label"><strong>Old Password</strong></label>
            <input type="password" class="form-control" name="oldPassword">
            <div class="text-danger" th:if="${oldPasswordError}" th:text="${oldPasswordError}"></div>
        </div>
        <div class="mb-3">
            <label class="form-label"><strong>New Password</strong></label>
            <input type="password" class="form-control" name="newPassword">
            <div class="text-danger" th:if="${newPasswordError}" th:text="${newPasswordError}"></div>
        </div>
        <div class="mb-3">
            <label class="form-label"><strong>Confirm Password</strong></label>
            <input type="password" class="form-control" name="confirmPassword">
            <div class="text-danger" th:if="${confirmPasswordError}" th:text="${confirmPasswordError}"></div>
        </div>

        <!-- Success message -->
        <div class="alert alert-success mt-3" th:if="${success}" th:text="${success}"></div>

        <div class="d-grid gap-2 d-md-flex justify-content-md-between mt-4">
            <button type="submit" class="btn btn-success">Save Changes</button>
            <a href="/profile" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

</body>
</html>
